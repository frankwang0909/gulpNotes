!function(){function t(t){var e="",a=function(t){return t<=9?"0"+t:t};return e+=t.getFullYear()+"-",e+=a(t.getMonth()+1)+"-",e+=a(t.getDate())}var e,a,r={};r.getMonthData=function(t,e){var a=[];if(!t||!e){var r=new Date;t=r.getFullYear(),e=r.getMonth()+1}var n=new Date(t,e-1,1),d=n.getDay();0===d&&(d=7),t=n.getFullYear(),e=n.getMonth()+1;for(var i=new Date(t,e-1,0).getDate(),c=d-1,s=new Date(t,e,0).getDate(),o=0;o<42;o++){var h=o+1-c,u=h,l=e;h<=0?(l=e-1,u=i+h):h>s&&(l=e+1,u-=s),0===l&&(l=12),13===l&&(l=1),a.push({month:l,date:h,showDate:u})}return{year:t,month:e,days:a}},r.buildUI=function(t,a){if(e=r.getMonthData(t,a),!t||!a){var n=new Date;t=n.getFullYear(),a=n.getMonth()+1}var d=new Date(t,a,0).getDate();console.log("maxDate :"+d);for(var i='<div class="ui-datepicker-header"><a href="javascript:;" class="ui-datepicker-btn ui-datepicker-btn-prev">&lt;</a><span class="ui-datepicker-curr-month">'+e.year+"-"+e.month+'</span><a href="javascript:;" class="ui-datepicker-btn ui-datepicker-btn-next">&gt;</a></div><div class="ui-datepicker-body"><table><thead><tr><th>周一</th><th>周二</th><th>周三</th><th>周四</th><th>周五</th><th>周六</th><th>周日</th></tr></thead><tbody>',c=0;c<e.days.length;c++){var s=e.days[c];c%7==0&&(i+="<tr>"),s.date<=0?i+='<td><a data-date="'+s.date+'" href="javascript:;" class="day prev">'+s.showDate+"</td>":s.date>d?i+='<td><a data-date="'+s.date+'" href="javascript:;" class="day next">'+s.showDate+"</td>":i+='<td><a data-date="'+s.date+'" href="javascript:;" class="day">'+s.showDate+"</td>",c%7==6&&(i+="</tr>")}return i+="</tbody></table></div>"},r.render=function(t){var n,d;e&&(n=e.year,d=e.month),"prev"===t&&(d-=1),"next"===t&&(d+=1);var i=r.buildUI(n,d);(a=document.querySelector(".ui-datepicker-wrapper"))||(a=document.createElement("div"),document.body.appendChild(a),a.className="ui-datepicker-wrapper"),a.innerHTML=i},r.init=function(){r.render(),a.addEventListener("click",function(t){var e=t.target;e.classList.contains("ui-datepicker-btn")&&(e.classList.contains("ui-datepicker-btn-prev")?r.render("prev"):e.classList.contains("ui-datepicker-btn-next")&&r.render("next"))},!1),a.addEventListener("click",function(a){var r=a.target;if("a"===r.tagName.toLowerCase()&&"td"===r.parentNode.tagName.toLowerCase()){var n=new Date(e.year,e.month-1,r.dataset.date);console.log(t(n))}},!1)},window.datepicker=r}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGVwaWNrZXIuanMiXSwibmFtZXMiOlsiZm9ybWF0IiwiZGF0ZSIsInJldCIsInBhZGRpbmciLCJudW0iLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsIm1vbnRoRGF0YSIsIndyYXBwZXIiLCJkYXRlcGlja2VyIiwiZ2V0TW9udGhEYXRhIiwieWVhciIsIm1vbnRoIiwidG9kYXkiLCJEYXRlIiwiZmlyc3REYXkiLCJmaXJzdERheVdlZWtEYXkiLCJnZXREYXkiLCJsYXN0RGF0ZU9mTGFzdE1vbnRoIiwicHJldk1vbnRoRGF5Q291bnQiLCJsYXN0RGF0ZSIsImkiLCJzaG93RGF0ZSIsInRoaXNNb250aCIsInB1c2giLCJkYXlzIiwiYnVpbGRVSSIsIm1heERhdGUiLCJjb25zb2xlIiwibG9nIiwiaHRtbCIsImxlbmd0aCIsInJlbmRlciIsImRpcmVjdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNyZWF0ZUVsZW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJpbml0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInBhcmVudE5vZGUiLCJkYXRhc2V0Iiwid2luZG93Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQW9NQyxTQUFTQSxFQUFPQyxHQUNmLElBQUlDLEVBQU0sR0FDTkMsRUFBVSxTQUFTQyxHQUN0QixPQUFJQSxHQUFPLEVBQ0gsSUFBTUEsRUFFUEEsR0FNUixPQUpBRixHQUFPRCxFQUFLSSxjQUFnQixJQUM1QkgsR0FBT0MsRUFBUUYsRUFBS0ssV0FBYSxHQUFLLElBQ3RDSixHQUFPQyxFQUFRRixFQUFLTSxXQTdNckIsSUFDSUMsRUFDQUMsRUFGQUMsS0FJSkEsRUFBV0MsYUFBZSxTQUFTQyxFQUFNQyxHQUV4QyxJQUFJWCxLQUdKLElBQUtVLElBQVNDLEVBQU8sQ0FDcEIs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LEdBQzFDLElBQUlDLEVBQVNELEVBQUVDLE9BQ2YsR0FBcUMsTUFBakNBLEVBQU9HLFFBQVFDLGVBQW9FLE9BQTNDSixFQUFPSyxXQUFXRixRQUFRQyxjQUF0RSxDQUdBLElBQUloRCxFQUFPLElBQUljLEtBQUtQLEVBQVVJLEtBQU1KLEVBQVVLLE1BQU0sRUFBSWdDLEVBQU9NLFFBQVFsRCxNQUV2RTRCLFFBQVFDLElBQUk5QixFQUFPQyxPQUVsQixJQW9CSG1ELE9BQU8xQyxXQUFhQSxFQXJOckIiLCJmaWxlIjoiZGF0ZXBpY2tlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuXHR2YXIgZGF0ZXBpY2tlciA9IHt9O1xyXG5cdHZhciBtb250aERhdGE7XHJcblx0dmFyIHdyYXBwZXI7XHJcblxyXG5cdGRhdGVwaWNrZXIuZ2V0TW9udGhEYXRhID0gZnVuY3Rpb24oeWVhciwgbW9udGgpIHtcclxuXHJcblx0XHR2YXIgcmV0ID0gW107XHJcblxyXG5cdFx0Ly8g5Y+C5pWw5qCh6aqMXHJcblx0XHRpZiAoIXllYXIgfHwgIW1vbnRoKSB7XHJcblx0XHRcdHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpO1xyXG5cdFx0XHRtb250aCA9IHRvZGF5LmdldE1vbnRoKCkgKyAxO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOW9k+aciOesrOS4gOWkqVxyXG5cdFx0dmFyIGZpcnN0RGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgtMSwgMSk7XHJcblxyXG5cdFx0Ly8gIOW9k+aciOesrOS4gOWkqeeahOaYn+acn1xyXG5cdFx0dmFyIGZpcnN0RGF5V2Vla0RheSA9IGZpcnN0RGF5LmdldERheSgpO1xyXG5cdFx0aWYgKGZpcnN0RGF5V2Vla0RheSA9PT0gMCkge1xyXG5cdFx0XHRmaXJzdERheVdlZWtEYXkgPSA3O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOmHjeaWsOWPluW5tOS7veWSjOaciOS7vVxyXG5cdFx0eWVhciA9IGZpcnN0RGF5LmdldEZ1bGxZZWFyKCk7XHJcblx0XHRtb250aCA9IGZpcnN0RGF5LmdldE1vbnRoKCkgKyAxO1xyXG5cclxuXHRcdC8vIOS4iuaciOacgOWQjuS4gOWkqVxyXG5cdFx0dmFyIGxhc3REYXlPZkxhc3RNb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLTEsIDApO1xyXG5cdFx0dmFyIGxhc3REYXRlT2ZMYXN0TW9udGggPSBsYXN0RGF5T2ZMYXN0TW9udGguZ2V0RGF0ZSgpO1xyXG5cclxuXHRcdC8vIOaYvuekuueahOS4iuS4gOS4quaciOeahOaXpeacn+WkqeaVsFxyXG5cdFx0dmFyIHByZXZNb250aERheUNvdW50ID0gZmlyc3REYXlXZWVrRGF5IC0xO1xyXG5cclxuXHJcblx0XHQvLyDlvZPmnIjmnIDlkI7kuIDlpKlcclxuXHRcdHZhciBsYXN0RGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDApO1xyXG5cdFx0dmFyIGxhc3REYXRlID0gbGFzdERheS5nZXREYXRlKCk7XHJcblxyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA3KjY7IGkrKykge1xyXG5cdFx0XHR2YXIgZGF0ZSA9IGkgKzEgLSBwcmV2TW9udGhEYXlDb3VudDtcclxuXHRcdFx0dmFyIHNob3dEYXRlID0gZGF0ZTtcclxuXHRcdFx0dmFyIHRoaXNNb250aCA9IG1vbnRoO1xyXG5cclxuXHRcdFx0Ly8g5LiK5LiA5Liq5pyIXHJcblx0XHRcdGlmIChkYXRlIDw9IDApIHtcclxuXHRcdFx0XHR0aGlzTW9udGggPSBtb250aCAtIDE7XHJcblx0XHRcdFx0c2hvd0RhdGUgPSBsYXN0RGF0ZU9mTGFzdE1vbnRoICsgZGF0ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyDkuIvkuIDkuKrmnIhcclxuXHRcdFx0ZWxzZSBpZihkYXRlID4gbGFzdERhdGUpe1xyXG5cdFx0XHRcdHRoaXNNb250aCA9IG1vbnRoICsgMTtcclxuXHRcdFx0XHRzaG93RGF0ZSA9IHNob3dEYXRlIC0gbGFzdERhdGU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKHRoaXNNb250aCA9PT0wICkge1xyXG5cdFx0XHRcdHRoaXNNb250aCA9IDEyO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKHRoaXNNb250aCA9PT0xMyApIHtcclxuXHRcdFx0XHR0aGlzTW9udGggPSAxO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXQucHVzaCh7XHJcblx0XHRcdFx0bW9udGg6dGhpc01vbnRoLFxyXG5cdFx0XHRcdGRhdGU6ZGF0ZSxcclxuXHRcdFx0XHRzaG93RGF0ZTogc2hvd0RhdGVcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHllYXI6IHllYXIsXHJcblx0XHRcdG1vbnRoOiBtb250aCxcclxuXHRcdFx0ZGF5czogcmV0XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblxyXG5cdGRhdGVwaWNrZXIuYnVpbGRVSSA9IGZ1bmN0aW9uKHllYXIsIG1vbnRoKSB7XHJcblx0XHRtb250aERhdGEgPSBkYXRlcGlja2VyLmdldE1vbnRoRGF0YSh5ZWFyLCBtb250aCk7XHJcblx0XHRpZiAoIXllYXIgfHwgIW1vbnRoKSB7XHJcblx0XHRcdHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpO1xyXG5cdFx0XHRtb250aCA9IHRvZGF5LmdldE1vbnRoKCkgKyAxO1xyXG5cdFx0fVxyXG5cdFx0dmFyIGxhc3REYXkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMCk7XHJcblx0XHR2YXIgbWF4RGF0ZSA9IGxhc3REYXkuZ2V0RGF0ZSgpO1xyXG5cdFx0Y29uc29sZS5sb2coJ21heERhdGUgOicgKyBtYXhEYXRlKTtcclxuXHRcdC8vIGNvbnNvbGUubG9nKG1vbnRoRGF0YSk7XHJcblx0XHR2YXIgaHRtbCAgPSAgJzxkaXYgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWhlYWRlclwiPicrXHJcblx0XHRcdFx0XHRcdCc8YSBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWJ0biB1aS1kYXRlcGlja2VyLWJ0bi1wcmV2XCI+Jmx0OzwvYT4nK1xyXG5cdFx0XHRcdFx0XHQnPHNwYW4gY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWN1cnItbW9udGhcIj4nKyBtb250aERhdGEueWVhciArJy0nKyBtb250aERhdGEubW9udGggKyc8L3NwYW4+JytcclxuXHRcdFx0XHRcdFx0JzxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cInVpLWRhdGVwaWNrZXItYnRuIHVpLWRhdGVwaWNrZXItYnRuLW5leHRcIj4mZ3Q7PC9hPicrXHJcblx0XHRcdFx0XHQnPC9kaXY+JytcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwidWktZGF0ZXBpY2tlci1ib2R5XCI+JytcclxuXHRcdFx0XHRcdFx0Jzx0YWJsZT4nK1xyXG5cdFx0XHRcdFx0XHRcdCc8dGhlYWQ+JytcclxuXHRcdFx0XHRcdFx0XHRcdCc8dHI+JytcclxuXHRcdFx0XHRcdFx0XHRcdFx0Jzx0aD7lkajkuIA8L3RoPicrXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8dGg+5ZGo5LqMPC90aD4nK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPHRoPuWRqOS4iTwvdGg+JytcclxuXHRcdFx0XHRcdFx0XHRcdFx0Jzx0aD7lkajlm5s8L3RoPicrXHJcblx0XHRcdFx0XHRcdFx0XHRcdCc8dGg+5ZGo5LqUPC90aD4nK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQnPHRoPuWRqOWFrTwvdGg+JytcclxuXHRcdFx0XHRcdFx0XHRcdFx0Jzx0aD7lkajml6U8L3RoPicrXHJcblx0XHRcdFx0XHRcdFx0XHQnPC90cj4nK1xyXG5cdFx0XHRcdFx0XHRcdCc8L3RoZWFkPicrXHJcblx0XHRcdFx0XHRcdFx0Jzx0Ym9keT4nO1xyXG5cclxuXHRcdGZvcih2YXIgaSA9IDA7ICBpIDwgbW9udGhEYXRhLmRheXMubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHR2YXIgZGF0ZSA9IG1vbnRoRGF0YS5kYXlzW2ldO1xyXG5cdFx0XHQvLyDlkajkuIBcclxuXHRcdFx0aWYgKGklNyA9PT0gMCkge1xyXG5cdFx0XHRcdGh0bWwgKz0gJzx0cj4nO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkYXRlLmRhdGUgPD0gMCkge1xyXG5cdFx0XHRcdGh0bWwgKz0gJzx0ZD48YSBkYXRhLWRhdGU9XCInKyBkYXRlLmRhdGUrJ1wiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIiBjbGFzcz1cImRheSBwcmV2XCI+JyArIGRhdGUuc2hvd0RhdGUgKyAnPC90ZD4nO1xyXG5cdFx0XHR9ZWxzZSBpZihkYXRlLmRhdGUgPiBtYXhEYXRlKXtcclxuXHRcdFx0XHRodG1sICs9ICc8dGQ+PGEgZGF0YS1kYXRlPVwiJysgZGF0ZS5kYXRlKydcIiBocmVmPVwiamF2YXNjcmlwdDo7XCIgY2xhc3M9XCJkYXkgbmV4dFwiPicgKyBkYXRlLnNob3dEYXRlICsgJzwvdGQ+JztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0aHRtbCArPSAnPHRkPjxhIGRhdGEtZGF0ZT1cIicrIGRhdGUuZGF0ZSsnXCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiIGNsYXNzPVwiZGF5XCI+JyArIGRhdGUuc2hvd0RhdGUgKyAnPC90ZD4nO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyDlkajml6VcclxuXHRcdFx0aWYgKGklNyA9PT0gNikge1xyXG5cdFx0XHRcdGh0bWwgKz0gJzwvdHI+JztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGh0bWwgKz0gJzwvdGJvZHk+JysnPC90YWJsZT4nKyc8L2Rpdj4nO1xyXG5cclxuXHRcdC8vIGNvbnNvbGUubG9nKGh0bWwpO1xyXG5cclxuXHRcdHJldHVybiBodG1sO1xyXG5cdH1cclxuXHJcblx0Ly8g5qC55o2u54K55Ye755qE5pa55ZCR77yM6I6355+lIG1vbnRoXHJcblx0ZGF0ZXBpY2tlci5yZW5kZXIgPSBmdW5jdGlvbihkaXJlY3Rpb24pIHtcclxuXHRcdHZhciB5ZWFyLCBtb250aDtcclxuXHRcdGlmIChtb250aERhdGEpIHtcclxuXHRcdFx0eWVhciA9IG1vbnRoRGF0YS55ZWFyO1xyXG5cdFx0XHRtb250aCA9IG1vbnRoRGF0YS5tb250aDtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aWYgKGRpcmVjdGlvbiA9PT0gJ3ByZXYnKSB7XHJcblx0XHRcdG1vbnRoID0gbW9udGggLTE7XHJcblx0XHR9XHJcblx0XHRpZiAoZGlyZWN0aW9uID09PSAnbmV4dCcpIHtcclxuXHRcdFx0bW9udGggPSBtb250aCArIDE7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGh0bWwgPSBkYXRlcGlja2VyLmJ1aWxkVUkoeWVhciwgbW9udGgpO1xyXG5cdFx0d3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy51aS1kYXRlcGlja2VyLXdyYXBwZXInKTtcclxuXHRcdGlmICghd3JhcHBlcikge1xyXG5cdFx0XHR3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQod3JhcHBlcik7XHJcblx0XHRcdHdyYXBwZXIuY2xhc3NOYW1lID0gJ3VpLWRhdGVwaWNrZXItd3JhcHBlcic7XHJcblx0XHR9XHJcblx0XHR3cmFwcGVyLmlubmVySFRNTCA9IGh0bWw7XHJcblx0XHRcclxuXHR9XHJcblxyXG5cdGRhdGVwaWNrZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0ZGF0ZXBpY2tlci5yZW5kZXIoKTtcclxuXHJcblx0XHQvLyDliIfmjaLmnIjku73vvIzph43mlrDnu5jliLbml6XmnJ9cclxuXHRcdHdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdHZhciB0YXJnZXQgPSBlLnRhcmdldDtcclxuXHRcdFx0aWYgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd1aS1kYXRlcGlja2VyLWJ0bicpKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIOS4iuS4gOS4quaciFxyXG5cdFx0XHRpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndWktZGF0ZXBpY2tlci1idG4tcHJldicpKSB7XHJcblx0XHRcdFx0ZGF0ZXBpY2tlci5yZW5kZXIoJ3ByZXYnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyDkuIvkuIDmnIhcclxuXHRcdFx0ZWxzZSBpZih0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd1aS1kYXRlcGlja2VyLWJ0bi1uZXh0JykpIHtcclxuXHRcdFx0XHRkYXRlcGlja2VyLnJlbmRlcignbmV4dCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9LCBmYWxzZSk7XHJcblxyXG5cdFx0Ly8g54K55Ye75pel5pyfXHJcblx0XHR3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHR2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcblx0XHRcdGlmICh0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScgfHwgdGFyZ2V0LnBhcmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpIT09ICd0ZCcpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGRhdGUgPSBuZXcgRGF0ZShtb250aERhdGEueWVhciwgbW9udGhEYXRhLm1vbnRoLTEgLCB0YXJnZXQuZGF0YXNldC5kYXRlKTtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2coZGF0ZSk7XHJcblx0XHRcdGNvbnNvbGUubG9nKGZvcm1hdChkYXRlKSk7XHJcblxyXG5cdFx0fSxmYWxzZSlcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGZvcm1hdChkYXRlKSB7XHJcblx0XHR2YXIgcmV0ID0gJyc7XHJcblx0XHR2YXIgcGFkZGluZyA9IGZ1bmN0aW9uKG51bSkge1xyXG5cdFx0XHRpZiAobnVtIDw9IDkpIHtcclxuXHRcdFx0XHRyZXR1cm4gJzAnICsgbnVtO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBudW07XHJcblx0XHR9XHJcblx0XHRyZXQgKz0gZGF0ZS5nZXRGdWxsWWVhcigpICsgJy0nO1xyXG5cdFx0cmV0ICs9IHBhZGRpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkgKyAnLSc7XHJcblx0XHRyZXQgKz0gcGFkZGluZyhkYXRlLmdldERhdGUoKSk7XHJcblxyXG5cdFx0cmV0dXJuIHJldDtcclxuXHR9XHJcblxyXG5cclxuXHQvLyDmjILovb3liLAgd2luZG93IOWvueixoeS4ilxyXG5cdHdpbmRvdy5kYXRlcGlja2VyID0gZGF0ZXBpY2tlcjtcclxufSkoKTsiXX0=
